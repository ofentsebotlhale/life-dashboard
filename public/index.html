<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Personal Dashboard - Enhanced Authentication</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              dark: {
                50: "#f8fafc",
                100: "#f1f5f9",
                200: "#e2e8f0",
                300: "#cbd5e1",
                400: "#94a3b8",
                500: "#64748b",
                600: "#475569",
                700: "#334155",
                800: "#1e293b",
                900: "#0f172a",
                950: "#020617",
              },
            },
          },
        },
      };
    </script>
    <style>
      /* Custom styles for both light and dark themes */
      .glass-effect {
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .dark .glass-effect {
        background: rgba(15, 23, 42, 0.8);
      }

      .glass-effect {
        background: rgba(255, 255, 255, 0.8);
        border: 1px solid rgba(0, 0, 0, 0.1);
      }

      .card-themed {
        transition: all 0.3s ease;
      }

      .dark .card-themed {
        background: linear-gradient(145deg, #1e293b, #334155);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }

      .card-themed {
        background: linear-gradient(145deg, #ffffff, #f8fafc);
        border: 1px solid rgba(0, 0, 0, 0.1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .glow-effect {
        transition: all 0.3s ease;
      }

      .dark .glow-effect {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
      }

      .glow-effect {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
      }

      .fade-in {
        animation: fadeIn 0.6s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hover-glow:hover {
        transform: translateY(-2px);
        transition: all 0.3s ease;
      }

      .dark .hover-glow:hover {
        box-shadow: 0 0 30px rgba(59, 130, 246, 0.4);
      }

      .hover-glow:hover {
        box-shadow: 0 0 30px rgba(59, 130, 246, 0.2);
      }

      .neon-text {
        transition: all 0.3s ease;
      }

      .dark .neon-text {
        text-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
      }

      /* Scrollbar styling */
      ::-webkit-scrollbar {
        width: 8px;
      }

      .dark ::-webkit-scrollbar-track {
        background: #1e293b;
      }

      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }

      .dark ::-webkit-scrollbar-thumb {
        background: #475569;
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }

      .dark ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      /* Theme transition */
      * {
        transition: background-color 0.3s ease, color 0.3s ease,
          border-color 0.3s ease;
      }

      /* Auth form animations */
      .auth-slide-in {
        animation: slideIn 0.5s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: scale(0.9) translateY(20px);
        }
        to {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }

      /* Floating elements */
      .floating {
        animation: floating 3s ease-in-out infinite;
      }

      @keyframes floating {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      /* Pulse animation for notifications */
      .pulse-notification {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-950 dark:via-dark-900 dark:to-dark-800 min-h-screen text-gray-900 dark:text-white transition-all duration-300"
  >
    <!-- Authentication Page -->
    <div
      id="auth-page"
      class="min-h-screen flex items-center justify-center p-4"
    >
      <div class="w-full max-w-md">
        <!-- Logo and Title -->
        <div class="text-center mb-8 fade-in">
          <div
            class="w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 floating"
          >
            <i data-lucide="zap" class="w-10 h-10 text-white"></i>
          </div>
          <h1 class="text-3xl font-bold neon-text mb-2">HEADQUARTERS</h1>
          <p class="text-gray-600 dark:text-gray-400">
            Your Personal Command Center
          </p>
        </div>

        <!-- Auth Form Container -->
        <div class="card-themed rounded-3xl p-8 auth-slide-in">
          <!-- Theme Toggle -->
          <div class="flex justify-end mb-6">
            <button
              onclick="toggleTheme()"
              class="p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
            >
              <i data-lucide="sun" class="w-5 h-5 dark:hidden"></i>
              <i data-lucide="moon" class="w-5 h-5 hidden dark:block"></i>
            </button>
          </div>

          <!-- Auth Toggle -->
          <div class="flex bg-gray-100 dark:bg-gray-700 rounded-xl p-1 mb-8">
            <button
              id="login-tab"
              onclick="switchAuthMode('login')"
              class="flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-300 bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm"
            >
              Sign In
            </button>
            <button
              id="signup-tab"
              onclick="switchAuthMode('signup')"
              class="flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-300 text-gray-600 dark:text-gray-400"
            >
              Sign Up
            </button>
          </div>

          <!-- Auth Form -->
          <form id="auth-form" onsubmit="handleAuth(event)">
            <!-- Name Field (Sign Up Only) -->
            <div id="name-field" class="mb-6 hidden">
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >
                <i data-lucide="user" class="w-4 h-4 inline mr-2"></i>
                Full Name
              </label>
              <input
                type="text"
                id="name"
                name="name"
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-300"
                placeholder="Enter your full name"
              />
            </div>

            <!-- Email Field -->
            <div class="mb-6">
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >
                <i data-lucide="mail" class="w-4 h-4 inline mr-2"></i>
                Email Address
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-300"
                placeholder="Enter your email"
              />
            </div>

            <!-- Password Field -->
            <div class="mb-6">
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >
                <i data-lucide="lock" class="w-4 h-4 inline mr-2"></i>
                Password
              </label>
              <div class="relative">
                <input
                  type="password"
                  id="password"
                  name="password"
                  required
                  class="w-full px-4 py-3 pr-12 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-300"
                  placeholder="Enter your password"
                />
                <button
                  type="button"
                  onclick="togglePasswordVisibility()"
                  class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"
                >
                  <i data-lucide="eye" class="w-5 h-5" id="password-eye"></i>
                </button>
              </div>
            </div>

            <!-- Confirm Password Field (Sign Up Only) -->
            <div id="confirm-password-field" class="mb-6 hidden">
              <label
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >
                <i data-lucide="lock" class="w-4 h-4 inline mr-2"></i>
                Confirm Password
              </label>
              <input
                type="password"
                id="confirm-password"
                name="confirmPassword"
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-300"
                placeholder="Confirm your password"
              />
            </div>

            <!-- Remember Me / Forgot Password -->
            <div class="flex items-center justify-between mb-8">
              <label class="flex items-center">
                <input
                  type="checkbox"
                  id="remember"
                  class="w-4 h-4 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2"
                />
                <span class="ml-2 text-sm text-gray-600 dark:text-gray-400"
                  >Remember me</span
                >
              </label>
              <a
                href="#"
                class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 transition-colors"
                >Forgot password?</a
              >
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              id="auth-submit"
              class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white py-4 px-6 rounded-xl font-medium transition-all duration-300 glow-effect flex items-center justify-center gap-2"
            >
              <i data-lucide="log-in" class="w-5 h-5"></i>
              <span id="submit-text">Sign In</span>
            </button>
          </form>

          <!-- Social Login -->
          <div class="mt-8">
            <div class="relative">
              <div class="absolute inset-0 flex items-center">
                <div
                  class="w-full border-t border-gray-200 dark:border-gray-600"
                ></div>
              </div>
              <div class="relative flex justify-center text-sm">
                <span
                  class="px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400"
                  >Or continue with</span
                >
              </div>
            </div>

            <div class="mt-6 grid grid-cols-2 gap-3">
              <button
                class="w-full inline-flex justify-center py-3 px-4 border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"
              >
                <i data-lucide="github" class="w-5 h-5"></i>
              </button>
              <button
                class="w-full inline-flex justify-center py-3 px-4 border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"
              >
                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                  />
                  <path
                    d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                  />
                  <path
                    d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                  />
                  <path
                    d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                  />
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- Demo Account -->
        <div class="text-center mt-6">
          <button
            onclick="loginAsDemo()"
            class="text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
          >
            Try Demo Account
          </button>
        </div>
      </div>
    </div>

    <!-- Main Dashboard (Hidden Initially) -->
    <div id="main-dashboard" class="hidden">
      <!-- Header -->
      <header class="glass-effect fixed w-full top-0 z-50 px-6 py-4">
        <div class="flex items-center justify-between max-w-7xl mx-auto">
          <!-- Logo -->
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center"
            >
              <i data-lucide="zap" class="w-6 h-6 text-white"></i>
            </div>
            <span class="text-xl font-bold neon-text">HEADQUARTERS</span>
          </div>

          <!-- Navigation -->
          <nav
            class="hidden md:flex items-center gap-2 bg-gray-100 dark:bg-gray-800 rounded-2xl p-2"
          >
            <a
              href="#"
              onclick="showPage('home')"
              class="nav-link px-4 py-2 rounded-xl transition-all duration-300 bg-blue-600/20 text-blue-600 dark:text-blue-400"
              data-page="home"
            >
              <i data-lucide="home" class="w-4 h-4 mr-2 inline"></i>Home
            </a>
            <a
              href="#"
              onclick="showPage('journal')"
              class="nav-link px-4 py-2 rounded-xl transition-all duration-300 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"
              data-page="journal"
            >
              <i data-lucide="book-open" class="w-4 h-4 mr-2 inline"></i>Journal
            </a>
            <a
              href="#"
              onclick="showPage('music')"
              class="nav-link px-4 py-2 rounded-xl transition-all duration-300 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"
              data-page="music"
            >
              <i data-lucide="music" class="w-4 h-4 mr-2 inline"></i>Music
            </a>
            <a
              href="#"
              onclick="showPage('settings')"
              class="nav-link px-4 py-2 rounded-xl transition-all duration-300 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"
              data-page="settings"
            >
              <i data-lucide="settings" class="w-4 h-4 mr-2 inline"></i>Settings
            </a>
          </nav>

          <!-- User Menu -->
          <div class="flex items-center gap-4">
            <!-- Theme Toggle -->
            <button
              onclick="toggleTheme()"
              class="p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
            >
              <i data-lucide="sun" class="w-5 h-5 dark:hidden"></i>
              <i data-lucide="moon" class="w-5 h-5 hidden dark:block"></i>
            </button>

            <!-- Notifications -->
            <button
              class="p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors relative"
            >
              <i data-lucide="bell" class="w-5 h-5"></i>
              <span
                class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full pulse-notification"
              ></span>
            </button>

            <!-- User Profile -->
            <div class="flex items-center gap-3">
              <img
                id="user-avatar"
                src=""
                alt="User Avatar"
                class="w-8 h-8 rounded-full"
              />
              <div class="hidden md:block">
                <p class="font-medium text-sm" id="user-name">User</p>
                <p
                  class="text-xs text-gray-500 dark:text-gray-400"
                  id="user-email"
                >
                  user@example.com
                </p>
              </div>
              <button
                onclick="logout()"
                class="text-sm text-red-500 hover:text-red-400 transition-colors"
              >
                <i data-lucide="log-out" class="w-4 h-4"></i>
              </button>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="pt-24 px-6 pb-8">
        <!-- Home Page -->
        <div id="home-page" class="page max-w-7xl mx-auto">
          <div class="mb-8 fade-in">
            <h1
              class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3"
              id="greeting"
            >
              Welcome back!
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-400">
              Here's what's happening in your world
            </p>
          </div>

          <!-- Personalized Stats -->
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 fade-in"
          >
            <div class="card-themed rounded-2xl p-6 hover-glow">
              <div class="flex items-center gap-4">
                <div
                  class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center"
                >
                  <i
                    data-lucide="book-open"
                    class="text-blue-600 dark:text-blue-400 w-6 h-6"
                  ></i>
                </div>
                <div>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                    Journal Entries
                  </p>
                  <p
                    class="font-bold text-2xl text-gray-900 dark:text-white"
                    id="journal-count"
                  >
                    0
                  </p>
                </div>
              </div>
            </div>

            <div class="card-themed rounded-2xl p-6 hover-glow">
              <div class="flex items-center gap-4">
                <div
                  class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center"
                >
                  <i
                    data-lucide="music"
                    class="text-green-600 dark:text-green-400 w-6 h-6"
                  ></i>
                </div>
                <div>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                    Songs Played
                  </p>
                  <p class="font-bold text-2xl text-gray-900 dark:text-white">
                    47
                  </p>
                </div>
              </div>
            </div>

            <div class="card-themed rounded-2xl p-6 hover-glow">
              <div class="flex items-center gap-4">
                <div
                  class="w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center"
                >
                  <i
                    data-lucide="calendar"
                    class="text-purple-600 dark:text-purple-400 w-6 h-6"
                  ></i>
                </div>
                <div>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                    Days Active
                  </p>
                  <p
                    class="font-bold text-2xl text-gray-900 dark:text-white"
                    id="days-active"
                  >
                    1
                  </p>
                </div>
              </div>
            </div>

            <div class="card-themed rounded-2xl p-6 hover-glow">
              <div class="flex items-center gap-4">
                <div
                  class="w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center"
                >
                  <i
                    data-lucide="trending-up"
                    class="text-orange-600 dark:text-orange-400 w-6 h-6"
                  ></i>
                </div>
                <div>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                    Productivity
                  </p>
                  <p class="font-bold text-2xl text-gray-900 dark:text-white">
                    85%
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8 fade-in"
          >
            <div
              class="card-themed rounded-3xl p-8 hover-glow cursor-pointer"
              onclick="showPage('journal')"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4"
                >
                  <i data-lucide="plus" class="w-8 h-8 text-white"></i>
                </div>
                <h3
                  class="text-xl font-bold text-gray-900 dark:text-white mb-2"
                >
                  New Journal Entry
                </h3>
                <p class="text-gray-600 dark:text-gray-400">
                  Capture your thoughts and memories
                </p>
              </div>
            </div>

            <div
              class="card-themed rounded-3xl p-8 hover-glow cursor-pointer"
              onclick="showPage('music')"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4"
                >
                  <i data-lucide="music" class="w-8 h-8 text-white"></i>
                </div>
                <h3
                  class="text-xl font-bold text-gray-900 dark:text-white mb-2"
                >
                  Play Music
                </h3>
                <p class="text-gray-600 dark:text-gray-400">
                  Discover and enjoy your favorite tunes
                </p>
              </div>
            </div>

            <div
              class="card-themed rounded-3xl p-8 hover-glow cursor-pointer"
              onclick="showPage('settings')"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4"
                >
                  <i data-lucide="settings" class="w-8 h-8 text-white"></i>
                </div>
                <h3
                  class="text-xl font-bold text-gray-900 dark:text-white mb-2"
                >
                  Customize
                </h3>
                <p class="text-gray-600 dark:text-gray-400">
                  Personalize your dashboard experience
                </p>
              </div>
            </div>
          </div>

          <!-- Recent Activity -->
          <div class="card-themed rounded-3xl p-8 fade-in">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">
              Recent Activity
            </h2>
            <div class="space-y-4" id="recent-activity">
              <div
                class="flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"
              >
                <div
                  class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center"
                >
                  <i
                    data-lucide="user-plus"
                    class="w-5 h-5 text-blue-600 dark:text-blue-400"
                  ></i>
                </div>
                <div>
                  <p class="font-medium text-gray-900 dark:text-white">
                    Welcome to your dashboard!
                  </p>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                    Just now
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Journal Page -->
        <div id="journal-page" class="page max-w-4xl mx-auto hidden">
          <div class="mb-8 fade-in">
            <h1
              class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3"
            >
              Journal
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-400">
              Your personal space for thoughts and reflections
            </p>
          </div>

          <div class="card-themed rounded-3xl p-8 fade-in">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">
              Write New Entry
            </h2>
            <form onsubmit="addJournalEntry(event)">
              <div class="mb-6">
                <input
                  type="text"
                  id="journal-title"
                  placeholder="Entry title..."
                  class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
                  required
                />
              </div>
              <div class="mb-6">
                <textarea
                  id="journal-content"
                  rows="6"
                  placeholder="What's on your mind?"
                  class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none"
                  required
                ></textarea>
              </div>
              <button
                type="submit"
                class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white px-6 py-3 rounded-xl font-medium transition-all duration-300"
              >
                Save Entry
              </button>
            </form>
          </div>

          <div id="journal-entries" class="mt-8 space-y-6">
            <!-- Journal entries will be populated here -->
          </div>
        </div>

        <!-- Music Page -->
        <div id="music-page" class="page max-w-6xl mx-auto hidden">
          <div class="mb-8 fade-in">
            <h1
              class="text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-3"
            >
              Music
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-400">
              Discover and enjoy your favorite music
            </p>
          </div>

          <div class="card-themed rounded-3xl p-8 fade-in text-center">
            <div
              class="w-24 h-24 bg-gradient-to-br from-green-500 to-blue-500 rounded-3xl flex items-center justify-center mx-auto mb-6"
            >
              <i data-lucide="music" class="w-12 h-12 text-white"></i>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
              Music Player
            </h2>
            <p class="text-gray-600 dark:text-gray-400 mb-8">
              Connect your favorite music services to start listening
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <button
                class="bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-400 hover:to-rose-400 text-white px-6 py-4 rounded-xl font-medium transition-all duration-300"
              >
                Connect Apple Music
              </button>
              <button
                class="bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-6 py-4 rounded-xl font-medium transition-all duration-300"
              >
                Connect Spotify
              </button>
            </div>
          </div>
        </div>

        <!-- Settings Page -->
        <div id="settings-page" class="page max-w-4xl mx-auto hidden">
          <div class="mb-8 fade-in">
            <h1
              class="text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-3"
            >
              Settings
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-400">
              Customize your dashboard experience
            </p>
          </div>

          <div class="space-y-6 fade-in">
            <!-- Profile Settings -->
            <div class="card-themed rounded-3xl p-8">
              <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">
                Profile Settings
              </h2>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                    >Display Name</label
                  >
                  <input
                    type="text"
                    id="settings-name"
                    class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white"
                  />
                </div>
                <div>
                  <label
                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                    >Email</label
                  >
                  <input
                    type="email"
                    id="settings-email"
                    class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white"
                  />
                </div>
              </div>
            </div>

            <!-- Appearance Settings -->
            <div class="card-themed rounded-3xl p-8">
              <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">
                Appearance
              </h2>
              <div class="space-y-4">
                <div class="flex items-center justify-between">
                  <div>
                    <h3 class="font-medium text-gray-900 dark:text-white">
                      Dark Mode
                    </h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      Toggle between light and dark themes
                    </p>
                  </div>
                  <button
                    onclick="toggleTheme()"
                    class="relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 dark:bg-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2"
                  >
                    <span
                      class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform dark:translate-x-6"
                    ></span>
                  </button>
                </div>
              </div>
            </div>

            <!-- Privacy Settings -->
            <div class="card-themed rounded-3xl p-8">
              <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">
                Privacy & Security
              </h2>
              <div class="space-y-4">
                <div class="flex items-center justify-between">
                  <div>
                    <h3 class="font-medium text-gray-900 dark:text-white">
                      Analytics
                    </h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      Help improve the dashboard by sharing usage data
                    </p>
                  </div>
                  <button
                    class="relative inline-flex h-6 w-11 items-center rounded-full bg-purple-600 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2"
                  >
                    <span
                      class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform translate-x-6"
                    ></span>
                  </button>
                </div>
                <div class="flex items-center justify-between">
                  <div>
                    <h3 class="font-medium text-gray-900 dark:text-white">
                      Notifications
                    </h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      Receive updates and reminders
                    </p>
                  </div>
                  <button
                    class="relative inline-flex h-6 w-11 items-center rounded-full bg-purple-600 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2"
                  >
                    <span
                      class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform translate-x-6"
                    ></span>
                  </button>
                </div>
              </div>
            </div>

            <!-- Data Management -->
            <div class="card-themed rounded-3xl p-8">
              <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">
                Data Management
              </h2>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <button
                  class="bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-xl font-medium transition-colors"
                >
                  Export Data
                </button>
                <button
                  class="bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-xl font-medium transition-colors"
                >
                  Clear All Data
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Scripts -->
    <script>
      // Global state
      let currentUser = null;
      let currentPage = "home";
      let isAuthMode = "login";
      let journalEntries =
        JSON.parse(localStorage.getItem("journalEntries")) || [];

      // Initialize app
      document.addEventListener("DOMContentLoaded", function () {
        lucide.createIcons();
        initializeTheme();
        checkAuthState();
      });

      // Theme management
      function initializeTheme() {
        const savedTheme = localStorage.getItem("theme");
        const systemPrefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;

        if (savedTheme === "dark" || (!savedTheme && systemPrefersDark)) {
          document.documentElement.classList.add("dark");
        }
      }

      function toggleTheme() {
        const isDark = document.documentElement.classList.contains("dark");

        if (isDark) {
          document.documentElement.classList.remove("dark");
          localStorage.setItem("theme", "light");
        } else {
          document.documentElement.classList.add("dark");
          localStorage.setItem("theme", "dark");
        }

        // Update user preferences if logged in
        if (currentUser) {
          currentUser.preferences.theme = isDark ? "light" : "dark";
          localStorage.setItem("user", JSON.stringify(currentUser));
        }
      }

      // Authentication
      function checkAuthState() {
        const savedUser = localStorage.getItem("user");
        if (savedUser) {
          currentUser = JSON.parse(savedUser);
          showDashboard();
        } else {
          showAuthPage();
        }
      }

      function switchAuthMode(mode) {
        isAuthMode = mode;
        const loginTab = document.getElementById("login-tab");
        const signupTab = document.getElementById("signup-tab");
        const nameField = document.getElementById("name-field");
        const confirmPasswordField = document.getElementById(
          "confirm-password-field"
        );
        const submitText = document.getElementById("submit-text");
        const submitIcon = document.querySelector("#auth-submit i");

        if (mode === "login") {
          loginTab.classList.add(
            "bg-white",
            "dark:bg-gray-600",
            "text-blue-600",
            "dark:text-blue-400",
            "shadow-sm"
          );
          loginTab.classList.remove("text-gray-600", "dark:text-gray-400");
          signupTab.classList.remove(
            "bg-white",
            "dark:bg-gray-600",
            "text-blue-600",
            "dark:text-blue-400",
            "shadow-sm"
          );
          signupTab.classList.add("text-gray-600", "dark:text-gray-400");
          nameField.classList.add("hidden");
          confirmPasswordField.classList.add("hidden");
          submitText.textContent = "Sign In";
          submitIcon.setAttribute("data-lucide", "log-in");
        } else {
          signupTab.classList.add(
            "bg-white",
            "dark:bg-gray-600",
            "text-blue-600",
            "dark:text-blue-400",
            "shadow-sm"
          );
          signupTab.classList.remove("text-gray-600", "dark:text-gray-400");
          loginTab.classList.remove(
            "bg-white",
            "dark:bg-gray-600",
            "text-blue-600",
            "dark:text-blue-400",
            "shadow-sm"
          );
          loginTab.classList.add("text-gray-600", "dark:text-gray-400");
          nameField.classList.remove("hidden");
          confirmPasswordField.classList.remove("hidden");
          submitText.textContent = "Sign Up";
          submitIcon.setAttribute("data-lucide", "user-plus");
        }

        lucide.createIcons();
      }

      function togglePasswordVisibility() {
        const passwordInput = document.getElementById("password");
        const eyeIcon = document.getElementById("password-eye");

        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          eyeIcon.setAttribute("data-lucide", "eye-off");
        } else {
          passwordInput.type = "password";
          eyeIcon.setAttribute("data-lucide", "eye");
        }

        lucide.createIcons();
      }

      function handleAuth(event) {
        event.preventDefault();

        const formData = new FormData(event.target);
        const email = formData.get("email");
        const password = formData.get("password");
        const name = formData.get("name") || email.split("@")[0];

        // Simulate authentication
        const userData = {
          id: Date.now().toString(),
          name: name,
          email: email,
          avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${email}`,
          preferences: {
            theme: document.documentElement.classList.contains("dark")
              ? "dark"
              : "light",
            notifications: true,
            analytics: true,
          },
          joinedAt: new Date().toISOString(),
          stats: {
            journalEntries: 0,
            songsPlayed: 47,
            daysActive: 1,
            productivity: 85,
          },
        };

        currentUser = userData;
        localStorage.setItem("user", JSON.stringify(userData));

        // Add welcome activity
        addActivity(
          "user-plus",
          `Welcome to your dashboard, ${name}!`,
          "Just now"
        );

        showDashboard();
      }

      function loginAsDemo() {
        const demoUser = {
          id: "demo",
          name: "Demo User",
          email: "demo@example.com",
          avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=demo",
          preferences: {
            theme: document.documentElement.classList.contains("dark")
              ? "dark"
              : "light",
            notifications: true,
            analytics: true,
          },
          joinedAt: new Date().toISOString(),
          stats: {
            journalEntries: 3,
            songsPlayed: 127,
            daysActive: 7,
            productivity: 92,
          },
        };

        currentUser = demoUser;
        localStorage.setItem("user", JSON.stringify(demoUser));

        // Add demo journal entries
        const demoEntries = [
          {
            id: "1",
            title: "First Day with the Dashboard",
            content:
              "Really loving the clean interface and personalization options. The dark mode is perfect for late-night journaling.",
            date: new Date(Date.now() - 86400000).toISOString(),
            mood: "😊",
          },
          {
            id: "2",
            title: "Productivity Thoughts",
            content:
              "Been thinking about how to better organize my daily tasks. This dashboard might be the perfect solution.",
            date: new Date(Date.now() - 172800000).toISOString(),
            mood: "🤔",
          },
        ];

        journalEntries = demoEntries;
        localStorage.setItem("journalEntries", JSON.stringify(demoEntries));

        addActivity("user-plus", "Welcome back, Demo User!", "Just now");
        showDashboard();
      }

      function logout() {
        currentUser = null;
        localStorage.removeItem("user");
        localStorage.removeItem("journalEntries");
        journalEntries = [];
        showAuthPage();
      }

      function showAuthPage() {
        document.getElementById("auth-page").classList.remove("hidden");
        document.getElementById("main-dashboard").classList.add("hidden");
      }

      function showDashboard() {
        document.getElementById("auth-page").classList.add("hidden");
        document.getElementById("main-dashboard").classList.remove("hidden");

        // Update user info
        document.getElementById("user-name").textContent = currentUser.name;
        document.getElementById("user-email").textContent = currentUser.email;
        document.getElementById("user-avatar").src = currentUser.avatar;
        document.getElementById("settings-name").value = currentUser.name;
        document.getElementById("settings-email").value = currentUser.email;

        // Update greeting
        const hour = new Date().getHours();
        let greeting = "";
        if (hour < 12) greeting = "Good morning";
        else if (hour < 18) greeting = "Good afternoon";
        else greeting = "Good evening";

        document.getElementById(
          "greeting"
        ).textContent = `${greeting}, ${currentUser.name}! 👋`;

        // Update stats
        updateStats();

        // Load journal entries
        loadJournalEntries();

        // Apply user theme preference
        if (currentUser.preferences.theme === "dark") {
          document.documentElement.classList.add("dark");
        } else {
          document.documentElement.classList.remove("dark");
        }
      }

      // Navigation
      function showPage(page) {
        // Hide all pages
        document
          .querySelectorAll(".page")
          .forEach((p) => p.classList.add("hidden"));

        // Show selected page
        document.getElementById(`${page}-page`).classList.remove("hidden");

        // Update navigation
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.classList.remove(
            "bg-blue-600/20",
            "text-blue-600",
            "dark:text-blue-400"
          );
          link.classList.add("text-gray-600", "dark:text-gray-400");

          if (link.dataset.page === page) {
            link.classList.remove("text-gray-600", "dark:text-gray-400");
            link.classList.add(
              "bg-blue-600/20",
              "text-blue-600",
              "dark:text-blue-400"
            );
          }
        });

        currentPage = page;
      }

      // Stats and activities
      function updateStats() {
        if (!currentUser) return;

        document.getElementById("journal-count").textContent =
          journalEntries.length;
        document.getElementById("days-active").textContent = Math.ceil(
          (Date.now() - new Date(currentUser.joinedAt).getTime()) /
            (1000 * 60 * 60 * 24)
        );
      }

      function addActivity(icon, text, time) {
        const activityContainer = document.getElementById("recent-activity");
        const activityItem = document.createElement("div");
        activityItem.className =
          "flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl fade-in";
        activityItem.innerHTML = `
          <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center">
            <i data-lucide="${icon}" class="w-5 h-5 text-blue-600 dark:text-blue-400"></i>
          </div>
          <div>
            <p class="font-medium text-gray-900 dark:text-white">${text}</p>
            <p class="text-sm text-gray-600 dark:text-gray-400">${time}</p>
          </div>
        `;

        activityContainer.insertBefore(
          activityItem,
          activityContainer.firstChild
        );
        lucide.createIcons();

        // Keep only last 5 activities
        const activities = activityContainer.children;
        if (activities.length > 5) {
          activityContainer.removeChild(activities[activities.length - 1]);
        }
      }

      // Journal functionality
      function addJournalEntry(event) {
        event.preventDefault();

        const title = document.getElementById("journal-title").value;
        const content = document.getElementById("journal-content").value;

        const entry = {
          id: Date.now().toString(),
          title: title,
          content: content,
          date: new Date().toISOString(),
          mood: "😊",
        };

        journalEntries.unshift(entry);
        localStorage.setItem("journalEntries", JSON.stringify(journalEntries));

        // Clear form
        document.getElementById("journal-title").value = "";
        document.getElementById("journal-content").value = "";

        // Update UI
        loadJournalEntries();
        updateStats();
        addActivity("book-open", `New journal entry: "${title}"`, "Just now");
      }

      function loadJournalEntries() {
        const container = document.getElementById("journal-entries");

        if (journalEntries.length === 0) {
          container.innerHTML = `
            <div class="card-themed rounded-3xl p-8 text-center">
              <i data-lucide="book-open" class="w-16 h-16 text-gray-400 mx-auto mb-4"></i>
              <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">No entries yet</h3>
              <p class="text-gray-600 dark:text-gray-400">Start writing your first journal entry above</p>
            </div>
          `;
        } else {
          container.innerHTML = journalEntries
            .map(
              (entry) => `
            <div class="card-themed rounded-3xl p-8 fade-in">
              <div class="flex items-start justify-between mb-4">
                <div>
                  <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">${
                    entry.title
                  }</h3>
                  <p class="text-sm text-gray-600 dark:text-gray-400">${new Date(
                    entry.date
                  ).toLocaleDateString()}</p>
                </div>
                <span class="text-2xl">${entry.mood}</span>
              </div>
              <p class="text-gray-700 dark:text-gray-300 leading-relaxed">${
                entry.content
              }</p>
            </div>
          `
            )
            .join("");
        }

        lucide.createIcons();
      }
    </script>
  </body>
</html>
